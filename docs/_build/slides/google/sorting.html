<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Sorting &mdash; Treinamento de Python 2016.08.0001</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../_static/single.css" type="text/css" />
    
    <link rel="stylesheet" href="../_static/odoo.css" type="text/css" />
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2016.08.0001',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/common.js"></script>
    
    <script type="text/javascript" src="../_static/slides.js"></script>
    <script type="text/javascript" src="../_static/sync.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    
    
    <script type="text/javascript" src="../_static/odoo.js"></script
    
    <link rel="top" title="Treinamento de Python 2016.08.0001" href="../index.html" />
    <link rel="next" title="Dicionários e Arquivos Python" href="dict-and-files.html" />
    <link rel="prev" title="Listas Python" href="lists.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="sorting">

<h1>Sorting</h1>





</article>
<article class="slide level-2" id="python-sorting">

<h2>Python Sorting</h2>

<p>A maneira mais fácil de classificar um resultado é com a função sorted(list),
que recebe uma lista e retorna uma nova lista com os elementos na ordem de
classificação. A lista original não é alterada.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1">## [1, 3, 4, 5]</span>
<span class="k">print</span> <span class="n">a</span>  <span class="c1">## [5, 1, 4, 3]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="id1">

<h2>Python Sorting</h2>

<p>É mais comum passar uma lista para a função sorted(), mas na verdade ele pode
tomar como entrada qualquer tipo de coleção iterável. O antigo método
list.sort() é uma alternativa detalhada abaixo. A função sorted() parece
mais fácil de usar em comparação com sort(), então eu recomendo o uso da
função sorted().</p>
<p>A função sorted() pode ser personalizada com argumentos opcionais. O argumento
opcional reverse=True do sorted(), por exemplo, sorted(list, reverse=True),
retorna os valores ao contrário.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;zz&#39;</span><span class="p">,</span> <span class="s1">&#39;CC&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>  <span class="c1">## [&#39;BB&#39;, &#39;CC&#39;, &#39;aa&#39;, &#39;zz&#39;] (case sensitive)</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strs</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>   <span class="c1">## [&#39;zz&#39;, &#39;aa&#39;, &#39;CC&#39;, &#39;BB&#39;]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="custom-sorting-with-key">

<h2>Custom Sorting With key=</h2>

<p>Para classificação personalizada mais complexa, a função sorted() recebe um
&quot;key=&quot; opcional que especifica uma função &quot;key&quot; que transforma cada elemento
antes de comparação. A função key recebe 1 valor por parâmetro e retorna 1 outro valor valor, sendo este o &quot;proxy&quot;, utilizado para as comparações com o sorted.</p>
<p>Por exemplo, com uma lista de strings, especificando key=len (construído com
a função len()) classifica as strings pelo comprimento, do mais curto para o
mais longo. O sorted chama len() para cada string para obter a lista de valores
de comprimento proxy, e os tipos com esses valores de proxy.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="s1">&#39;aaaa&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">]</span>
<span class="c1">#calling sorted with key=len</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>  <span class="c1">## [&#39;d&#39;, &#39;bb&#39;, &#39;ccc&#39;, &#39;aaaa&#39;]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="id2">

<h2>Custom Sorting With key=</h2>

<img alt="../_images/sorted-key.png" class="align-center" src="../_images/sorted-key.png" />




</article>
<article class="slide level-2" id="id3">

<h2>Custom Sorting With key=</h2>

<p>Outro exemplo, especificar &quot;str.lower&quot; como a função chave é uma maneira de forçar a triagem para o mesmo tratamento de letras maiúsculas e minúsculas:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## &quot;key&quot; argument specifying str.lower function to use for sorting</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>  <span class="c1">## [&#39;aa&#39;, &#39;BB&#39;, &#39;CC&#39;, &#39;zz&#39;]</span>
</pre></div>
</div>
<p>Você também pode passar em sua própria MyFn como a função chave, como:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Say we have a list of strings we want to sort by the last letter of the string.</span>
<span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xc&#39;</span><span class="p">,</span> <span class="s1">&#39;zb&#39;</span><span class="p">,</span> <span class="s1">&#39;yd&#39;</span> <span class="p">,</span><span class="s1">&#39;wa&#39;</span><span class="p">]</span>

<span class="c1">## Write a little function that takes a string, and returns its last letter.</span>
<span class="c1">## This will be the key function (takes in 1 value, returns 1 value).</span>
<span class="k">def</span> <span class="nf">MyFn</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1">## Now pass key=MyFn to sorted() to sort by the last letter:</span>
<span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">MyFn</span><span class="p">)</span>  <span class="c1">## [&#39;wa&#39;, &#39;zb&#39;, &#39;xc&#39;, &#39;yd&#39;]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="id4">

<h2>Custom Sorting With key=</h2>

<p>Para usar key= custom sorting, lembre-se de que você deve fornecer uma função que
receba um valor e retorne o valor proxy para orientar a classificação.
Há também um argumento opcional &quot;cmp=cmpFn&quot; para o sorted() que especifica
uma função de comparação de dois argumentos que leva dois valores da lista
e retorna negativo/0/positiva para indicar a sua ordenação. A função de
comparação default para strings, inits, ... é cmp(a, b), então, você pode
chamar quantas vezes quiser a função cmp() no seu comparador personalizado.
O mais recente um argumento key= é geralmente preferível.</p>




</article>
<article class="slide level-2" id="sort-method">

<h2>sort() method</h2>

<p>Como uma alternativa para o método sorted(), o metódo sort() em uma lista
classifica seus dados em ordem crescente, por exemplo, list.sort().
O método sort() altera a lista subjacente e retorna None, use-o desta maneira:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">alist</span><span class="o">.</span><span class="n">sort</span> <span class="p">()</span> <span class="c1">## correta</span>
<span class="n">alist</span> <span class="o">=</span> <span class="n">blist</span><span class="o">.</span><span class="n">sort</span> <span class="p">()</span> <span class="c1">## NO incorreto, sort () retorna None</span>
</pre></div>
</div>
<p>A descrição acima é um equívoco muito comum com sort() - que <em>não retorna</em> a
lista ordenada. O método sort() deve ser chamado em uma lista; ele não funciona
em qualquer coleção enumerada (mas a função sorted() acima funciona em
qualquer condição). O método sort() antecede a função sorted(), então
você provavelmente vai vê-lo em códigos antigos. O método sort() não precisa
criar uma nova lista, por isso pode ser um pouco mais rápido no caso em que
os elementos a serem classificados já estão em uma lista.</p>




</article>
<article class="slide level-2" id="tuples">

<h2>Tuples</h2>

<p>Uma tuple é um agrupamento de elementos de tamanho fixo, tais como um (x, y) de
coordenadas. Tuples são como listas, exceto que elas são imutáveis e não mudam de tamanho (tuples não são estritamente imutáveis desde que um dos elementos contidos possa ser mutável). Tuples desempenham um tipo de papel &quot;struct&quot; em Python - uma maneira conveniente para passar em torno de uma pequena lógica, tamanhos fixos de valores. Uma função que precisa retornar vários valores pode simplesmente retornar uma tuple dos valores. Por exemplo, se eu quisesse ter uma lista de coordenadas 3-D, a representação python natural seria uma lista de tuples, onde cada tuple é tamanho 3 segurando um (x,y,z) do grupo.</p>




</article>
<article class="slide level-2" id="id5">

<h2>Tuples</h2>

<p>Para criar uma tuple, basta listar os valores entre parênteses separados por vírgulas. Uma tuple &quot;vazio&quot; é apenas um par vazio de parênteses. Acessar os elementos de uma tuple é como uma lista - len(),[], for, in, etc. Todos funcionam da mesma forma.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;hi&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>  <span class="c1">## 3</span>
<span class="k">print</span> <span class="nb">tuple</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>    <span class="c1">## hi</span>
<span class="nb">tuple</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bye&#39;</span>  <span class="c1">## NO, tuples cannot be changed</span>
<span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;bye&#39;</span><span class="p">)</span>  <span class="c1">## this works</span>
</pre></div>
</div>
<p>Para criar um tamanho tuple size-1, o único elemento da tuple deve ser seguido por uma vírgula.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,)</span>   <span class="c1">## size-1 tuple</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="id6">

<h2>Tuples</h2>

<p>É um caso engraçado na sintaxe, mas a vírgula é necessária para distinguir a tuple do caso de colocar uma expressão entre parênteses. Em alguns casos, você pode omitir o parêntese e o Python vai ver a partir das vírgulas que você pretende criar uma tuple.</p>
<p>Atribuindo uma tuple a uma tuple de tamanho idêntico de nomes de variáveis atribui todos os valores correspondentes. Se as tuples não são do mesmo tamanho, ele lança um erro. Este recurso funciona para listas também.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s2">&quot;hike&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">z</span>  <span class="c1">## hike</span>
<span class="p">(</span><span class="n">err_string</span><span class="p">,</span> <span class="n">err_code</span><span class="p">)</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>  <span class="c1">## Foo() returns a length-2 tuple</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="list-comprehensions-optional">

<h2>List Comprehensions (optional)</h2>

<p>List comprehensions (Compreensão de listas) é um recurso mais avançado que é bom para alguns casos, mas não é necessário para os exercícios e não é algo que você precisa saber em primeiro lugar. A compreensão de lista é uma forma compacta de escrever uma expressão que se expande para uma lista inteira. Suponha que temos uma lista nums [1, 2, 3], aqui é mostrada como a compreensão de listas para computar uma lista de seus quadrados [1, 4, 9]:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="n">squares</span> <span class="o">=</span> <span class="p">[</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span> <span class="p">]</span>   <span class="c1">## [1, 4, 9, 16]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="id7">

<h2>List Comprehensions (optional)</h2>

<p>A sintaxe é [ expr for var in list ] - o &quot;for var in list&quot; parece um for-loop regular, mas sem os dois pontos (:). O expr à sua esquerda é avaliada uma vez para cada elemento para dar os valores para a nova lista. Aqui está um exemplo com strings, em que cada string é alterada para maiúsculas com '!!!':</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">]</span>

<span class="n">shouting</span> <span class="o">=</span> <span class="p">[</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;!!!&#39;</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strs</span> <span class="p">]</span>
<span class="c1">## [&#39;HELLO!!!&#39;, &#39;AND!!!&#39;, &#39;GOODBYE!!!&#39;]</span>
</pre></div>
</div>
<p>Você pode adicionar um caso de teste para a direita do for-loop para estreitar o resultado. O caso de teste é calculado para cada elemento, incluindo apenas os elementos em que o teste é verdadeiro.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Select values &lt;= 2</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">small</span> <span class="o">=</span> <span class="p">[</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="p">]</span>  <span class="c1">## [2, 1]</span>

<span class="c1">## Select fruits containing &#39;a&#39;, change to upper case</span>
<span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;cherry&#39;</span><span class="p">,</span> <span class="s1">&#39;bannana&#39;</span><span class="p">,</span> <span class="s1">&#39;lemon&#39;</span><span class="p">]</span>
<span class="n">afruits</span> <span class="o">=</span> <span class="p">[</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">fruits</span> <span class="k">if</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">s</span> <span class="p">]</span>
<span class="c1">## [&#39;APPLE&#39;, &#39;BANNANA&#39;]</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="exercicio-list1-py">

<h2>Exercício: list1.py</h2>

<p>Para praticarmos o material desta sessão, tente agora os problemas do arquivo list1.py que utilizam ordenação.</p>
<p>Exercício B: front-x</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Dada uma lista de strings, retorne uma lista com as strings</span>
<span class="c1"># ordenadas, agrupando todas as strings que começam com &#39;x&#39; primeiro.</span>
<span class="c1"># Exemplo: [&#39;mix&#39;, &#39;xyz&#39;, &#39;apple&#39;, &#39;xanadu&#39;, &#39;aardvark&#39;] resulta em</span>
<span class="c1"># [&#39;xanadu&#39;, &#39;xyz&#39;, &#39;aardvark&#39;, &#39;apple&#39;, &#39;mix&#39;].</span>
<span class="c1"># Dica: isso pode ser feito criando-se 2 listas e ordenando-as antes</span>
<span class="c1"># de combiná-las</span>
</pre></div>
</div>
<p>Exercício C: sort-last</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Dada uma lista de tuples não-vazias, retorne uma lista ordenada crescente</span>
<span class="c1"># pelo último elemento da tuple.</span>
<span class="c1"># Exemplo: [(1, 7), (1, 3), (3, 4, 5), (2, 2)] resulta em</span>
<span class="c1"># [(2, 2), (1, 3), (3, 4, 5), (1, 7)]</span>
<span class="c1"># Dica: use um método key= para extrair o último elemento de cada tupla.</span>
</pre></div>
</div>




</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>